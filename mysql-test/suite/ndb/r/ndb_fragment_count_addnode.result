create table t1 (id int NOT NULL PRIMARY KEY, data char(8)) engine=ndb;
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t1' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	1
1	2	2
1	4	3
1	6	4
1	8	1
1	10	2
1	12	3
1	14	4
2	0	1
2	2	2
2	4	3
2	6	4
2	8	1
2	10	2
2	12	3
2	14	4
3	1	1
3	3	2
3	5	3
3	7	4
3	9	1
3	11	2
3	13	3
3	15	4
4	1	1
4	3	2
4	5	3
4	7	4
4	9	1
4	11	2
4	13	3
4	15	4
create table t2 (id int NOT NULL PRIMARY KEY, data char(8)) engine=ndb
comment="NDB_TABLE=PARTITION_BALANCE=FOR_RP_BY_LDM";
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t2' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	1
1	2	2
1	4	3
1	6	4
1	8	1
1	10	2
1	12	3
1	14	4
2	0	1
2	2	2
2	4	3
2	6	4
2	8	1
2	10	2
2	12	3
2	14	4
3	1	1
3	3	2
3	5	3
3	7	4
3	9	1
3	11	2
3	13	3
3	15	4
4	1	1
4	3	2
4	5	3
4	7	4
4	9	1
4	11	2
4	13	3
4	15	4
create table t3 (id int NOT NULL PRIMARY KEY, data char(8)) engine=ndb
comment="NDB_TABLE=PARTITION_BALANCE=FOR_RA_BY_LDM";
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t3' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	1
1	2	2
1	4	3
1	6	4
2	0	1
2	2	2
2	4	3
2	6	4
3	1	1
3	3	2
3	5	3
3	7	4
4	1	1
4	3	2
4	5	3
4	7	4
create table t4 (id int NOT NULL PRIMARY KEY, data char(8)) engine=ndb
comment="NDB_TABLE=PARTITION_BALANCE=FOR_RP_BY_NODE";
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t4' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	1
1	2	2
2	0	1
2	2	2
3	1	1
3	3	2
4	1	1
4	3	2
create table t5 (id int NOT NULL PRIMARY KEY, data char(8)) engine=ndb
comment="NDB_TABLE=PARTITION_BALANCE=FOR_RA_BY_NODE";
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t5' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	3
2	0	3
3	1	3
4	1	3
create table t6 (id int NOT NULL PRIMARY KEY, data char(8)) engine=ndb
comment="NDB_TABLE=PARTITION_BALANCE=FOR_RA_BY_LDM_X_2";
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t6' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	4
1	2	1
1	4	2
1	6	3
1	8	4
1	10	1
1	12	2
1	14	3
2	0	4
2	2	1
2	4	2
2	6	3
2	8	4
2	10	1
2	12	2
2	14	3
3	1	4
3	3	1
3	5	2
3	7	3
3	9	4
3	11	1
3	13	2
3	15	3
4	1	4
4	3	1
4	5	2
4	7	3
4	9	4
4	11	1
4	13	2
4	15	3
create table t7 (id int NOT NULL PRIMARY KEY, data char(8)) engine=ndb
comment="NDB_TABLE=PARTITION_BALANCE=FOR_RA_BY_LDM_X_3";
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t7' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	4
1	2	1
1	4	2
1	6	3
1	8	4
1	10	1
1	12	2
1	14	3
1	16	4
1	18	1
1	20	2
1	22	3
2	0	4
2	2	1
2	4	2
2	6	3
2	8	4
2	10	1
2	12	2
2	14	3
2	16	4
2	18	1
2	20	2
2	22	3
3	1	4
3	3	1
3	5	2
3	7	3
3	9	4
3	11	1
3	13	2
3	15	3
3	17	4
3	19	1
3	21	2
3	23	3
4	1	4
4	3	1
4	5	2
4	7	3
4	9	4
4	11	1
4	13	2
4	15	3
4	17	4
4	19	1
4	21	2
4	23	3
create table t8 (id int NOT NULL PRIMARY KEY, data char(8)) engine=ndb
comment="NDB_TABLE=PARTITION_BALANCE=FOR_RA_BY_LDM_X_4";
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t8' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	4
1	2	1
1	4	2
1	6	3
1	8	4
1	10	1
1	12	2
1	14	3
1	16	4
1	18	1
1	20	2
1	22	3
1	24	4
1	26	1
1	28	2
1	30	3
2	0	4
2	2	1
2	4	2
2	6	3
2	8	4
2	10	1
2	12	2
2	14	3
2	16	4
2	18	1
2	20	2
2	22	3
2	24	4
2	26	1
2	28	2
2	30	3
3	1	4
3	3	1
3	5	2
3	7	3
3	9	4
3	11	1
3	13	2
3	15	3
3	17	4
3	19	1
3	21	2
3	23	3
3	25	4
3	27	1
3	29	2
3	31	3
4	1	4
4	3	1
4	5	2
4	7	3
4	9	4
4	11	1
4	13	2
4	15	3
4	17	4
4	19	1
4	21	2
4	23	3
4	25	4
4	27	1
4	29	2
4	31	3
select count(*) into @cnt_t1_0
from information_schema.partitions
where table_schema = 'test' and table_name = 't1';
select count(*) into @cnt_t2_0
from information_schema.partitions
where table_schema = 'test' and table_name = 't2';
select count(*) into @cnt_t3_0
from information_schema.partitions
where table_schema = 'test' and table_name = 't3';
select count(*) into @cnt_t4_0
from information_schema.partitions
where table_schema = 'test' and table_name = 't4';
select count(*) into @cnt_t5_0
from information_schema.partitions
where table_schema = 'test' and table_name = 't5';
select count(*) into @cnt_t6_0
from information_schema.partitions
where table_schema = 'test' and table_name = 't6';
select count(*) into @cnt_t7_0
from information_schema.partitions
where table_schema = 'test' and table_name = 't7';
select count(*) into @cnt_t8_0
from information_schema.partitions
where table_schema = 'test' and table_name = 't8';
select @cnt_t1_0 = @cnt_t2_0;
@cnt_t1_0 = @cnt_t2_0
1
select @cnt_t2_0 > @cnt_t3_0;
@cnt_t2_0 > @cnt_t3_0
1
select @cnt_t3_0 > @cnt_t4_0;
@cnt_t3_0 > @cnt_t4_0
1
select @cnt_t4_0 > @cnt_t5_0;
@cnt_t4_0 > @cnt_t5_0
1
select @cnt_t6_0 = 2 * @cnt_t3_0;
@cnt_t6_0 = 2 * @cnt_t3_0
1
select @cnt_t7_0 = 3 * @cnt_t3_0;
@cnt_t7_0 = 3 * @cnt_t3_0
1
select @cnt_t8_0 = 4 * @cnt_t3_0;
@cnt_t8_0 = 4 * @cnt_t3_0
1
Creating nodegroup
alter table t1 algorithm=inplace, reorganize partition;
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t1' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	1
1	2	2
1	4	3
1	6	4
1	8	1
1	10	2
1	12	3
1	14	4
2	0	1
2	2	2
2	4	3
2	6	4
2	8	1
2	10	2
2	12	3
2	14	4
3	1	1
3	3	2
3	5	3
3	7	4
3	9	1
3	11	2
3	13	3
3	15	4
4	1	1
4	3	2
4	5	3
4	7	4
4	9	1
4	11	2
4	13	3
4	15	4
5	16	1
5	17	2
5	18	3
5	19	4
5	20	1
5	21	2
5	22	3
5	23	4
6	16	1
6	17	2
6	18	3
6	19	4
6	20	1
6	21	2
6	22	3
6	23	4
alter table t2 algorithm=inplace, reorganize partition;
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t2' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	1
1	2	2
1	4	3
1	6	4
1	8	1
1	10	2
1	12	3
1	14	4
2	0	1
2	2	2
2	4	3
2	6	4
2	8	1
2	10	2
2	12	3
2	14	4
3	1	1
3	3	2
3	5	3
3	7	4
3	9	1
3	11	2
3	13	3
3	15	4
4	1	1
4	3	2
4	5	3
4	7	4
4	9	1
4	11	2
4	13	3
4	15	4
5	16	1
5	17	2
5	18	3
5	19	4
5	20	1
5	21	2
5	22	3
5	23	4
6	16	1
6	17	2
6	18	3
6	19	4
6	20	1
6	21	2
6	22	3
6	23	4
alter table t3 algorithm=inplace, reorganize partition;
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t3' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	1
1	2	2
1	4	3
1	6	4
2	0	1
2	2	2
2	4	3
2	6	4
3	1	1
3	3	2
3	5	3
3	7	4
4	1	1
4	3	2
4	5	3
4	7	4
5	8	1
5	9	2
5	10	3
5	11	4
6	8	1
6	9	2
6	10	3
6	11	4
alter table t4 algorithm=inplace, reorganize partition;
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t4' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	1
1	2	2
2	0	1
2	2	2
3	1	1
3	3	2
4	1	1
4	3	2
5	4	1
5	5	2
6	4	1
6	5	2
alter table t5 algorithm=inplace, reorganize partition;
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t5' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	3
2	0	3
3	1	3
4	1	3
5	2	3
6	2	3
alter table t6 algorithm=inplace, reorganize partition;
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t6' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	4
1	2	1
1	4	2
1	6	3
1	8	4
1	10	1
1	12	2
1	14	3
2	0	4
2	2	1
2	4	2
2	6	3
2	8	4
2	10	1
2	12	2
2	14	3
3	1	4
3	3	1
3	5	2
3	7	3
3	9	4
3	11	1
3	13	2
3	15	3
4	1	4
4	3	1
4	5	2
4	7	3
4	9	4
4	11	1
4	13	2
4	15	3
5	16	4
5	17	1
5	18	2
5	19	3
5	20	4
5	21	1
5	22	2
5	23	3
6	16	4
6	17	1
6	18	2
6	19	3
6	20	4
6	21	1
6	22	2
6	23	3
alter table t7 algorithm=inplace, reorganize partition;
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t7' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	4
1	2	1
1	4	2
1	6	3
1	8	4
1	10	1
1	12	2
1	14	3
1	16	4
1	18	1
1	20	2
1	22	3
2	0	4
2	2	1
2	4	2
2	6	3
2	8	4
2	10	1
2	12	2
2	14	3
2	16	4
2	18	1
2	20	2
2	22	3
3	1	4
3	3	1
3	5	2
3	7	3
3	9	4
3	11	1
3	13	2
3	15	3
3	17	4
3	19	1
3	21	2
3	23	3
4	1	4
4	3	1
4	5	2
4	7	3
4	9	4
4	11	1
4	13	2
4	15	3
4	17	4
4	19	1
4	21	2
4	23	3
5	24	4
5	25	1
5	26	2
5	27	3
5	28	4
5	29	1
5	30	2
5	31	3
5	32	4
5	33	1
5	34	2
5	35	3
6	24	4
6	25	1
6	26	2
6	27	3
6	28	4
6	29	1
6	30	2
6	31	3
6	32	4
6	33	1
6	34	2
6	35	3
alter table t8 algorithm=inplace, reorganize partition;
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t8' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	4
1	2	1
1	4	2
1	6	3
1	8	4
1	10	1
1	12	2
1	14	3
1	16	4
1	18	1
1	20	2
1	22	3
1	24	4
1	26	1
1	28	2
1	30	3
2	0	4
2	2	1
2	4	2
2	6	3
2	8	4
2	10	1
2	12	2
2	14	3
2	16	4
2	18	1
2	20	2
2	22	3
2	24	4
2	26	1
2	28	2
2	30	3
3	1	4
3	3	1
3	5	2
3	7	3
3	9	4
3	11	1
3	13	2
3	15	3
3	17	4
3	19	1
3	21	2
3	23	3
3	25	4
3	27	1
3	29	2
3	31	3
4	1	4
4	3	1
4	5	2
4	7	3
4	9	4
4	11	1
4	13	2
4	15	3
4	17	4
4	19	1
4	21	2
4	23	3
4	25	4
4	27	1
4	29	2
4	31	3
5	32	4
5	33	1
5	34	2
5	35	3
5	36	4
5	37	1
5	38	2
5	39	3
5	40	4
5	41	1
5	42	2
5	43	3
5	44	4
5	45	1
5	46	2
5	47	3
6	32	4
6	33	1
6	34	2
6	35	3
6	36	4
6	37	1
6	38	2
6	39	3
6	40	4
6	41	1
6	42	2
6	43	3
6	44	4
6	45	1
6	46	2
6	47	3
select count(*) into @cnt_t1_1
from information_schema.partitions
where table_schema = 'test' and table_name = 't1';
select count(*) into @cnt_t2_1
from information_schema.partitions
where table_schema = 'test' and table_name = 't2';
select count(*) into @cnt_t3_1
from information_schema.partitions
where table_schema = 'test' and table_name = 't3';
select count(*) into @cnt_t4_1
from information_schema.partitions
where table_schema = 'test' and table_name = 't4';
select count(*) into @cnt_t5_1
from information_schema.partitions
where table_schema = 'test' and table_name = 't5';
select count(*) into @cnt_t6_0
from information_schema.partitions
where table_schema = 'test' and table_name = 't6';
select count(*) into @cnt_t7_0
from information_schema.partitions
where table_schema = 'test' and table_name = 't7';
select count(*) into @cnt_t8_0
from information_schema.partitions
where table_schema = 'test' and table_name = 't8';
select @cnt_t1_1 = @cnt_t2_1;
@cnt_t1_1 = @cnt_t2_1
1
select @cnt_t2_1 > @cnt_t3_1;
@cnt_t2_1 > @cnt_t3_1
1
select @cnt_t3_1 > @cnt_t4_1;
@cnt_t3_1 > @cnt_t4_1
1
select @cnt_t4_1 > @cnt_t5_1;
@cnt_t4_1 > @cnt_t5_1
1
select @cnt_t6_1 = 2 * @cnt_t3_1;
@cnt_t6_1 = 2 * @cnt_t3_1
NULL
select @cnt_t7_1 = 3 * @cnt_t3_1;
@cnt_t7_1 = 3 * @cnt_t3_1
NULL
select @cnt_t8_1 = 4 * @cnt_t3_1;
@cnt_t8_1 = 4 * @cnt_t3_1
NULL
select @cnt_t1_1 > @cnt_t1_0;
@cnt_t1_1 > @cnt_t1_0
1
select @cnt_t2_1 > @cnt_t2_0;
@cnt_t2_1 > @cnt_t2_0
1
select @cnt_t3_1 > @cnt_t3_0;
@cnt_t3_1 > @cnt_t3_0
1
select @cnt_t4_1 > @cnt_t4_0;
@cnt_t4_1 > @cnt_t4_0
1
select @cnt_t5_1 > @cnt_t5_0;
@cnt_t5_1 > @cnt_t5_0
1
select @cnt_t6_1 > @cnt_t6_0;
@cnt_t6_1 > @cnt_t6_0
NULL
select @cnt_t7_1 > @cnt_t7_0;
@cnt_t7_1 > @cnt_t7_0
NULL
select @cnt_t8_1 > @cnt_t8_0;
@cnt_t8_1 > @cnt_t8_0
NULL
-- t1 --
Version: Any
Fragment type: HashMapPartition
K Value: 6
Min load factor: 78
Max load factor: 80
Temporary table: no
Number of attributes: 2
Number of primary keys: 1
Length of frm data: XXX
Max Rows: 0
Row Checksum: 1
Row GCI: 1
SingleUserMode: 0
ForceVarPart: 1
PartitionCount: 24
FragmentCount: 24
PartitionBalance: FOR_RP_BY_LDM
ExtraRowGciBits: 0
ExtraRowAuthorBits: 0
TableStatus: Retrieved
Table options:
HashMap: HASHMAP-3840-16-24
-- Attributes --
id Int PRIMARY KEY DISTRIBUTION KEY AT=FIXED ST=MEMORY
data Char(32;utf8mb4_0900_ai_ci) NULL AT=FIXED ST=MEMORY
-- Indexes -- 
PRIMARY KEY(id) - UniqueHashIndex
PRIMARY(id) - OrderedIndex
-- Per partition info -- 
Partition	Row count	Commit count	Frag fixed memory	Frag varsized memory	Extent_space	Free extent_space	
0 ...
1 ...
2 ...
3 ...
4 ...
5 ...
6 ...
7 ...
8 ...
9 ...
10 ...
11 ...
12 ...
13 ...
14 ...
15 ...
16 ...
17 ...
18 ...
19 ...
20 ...
21 ...
22 ...
23 ...


NDBT_ProgramExit: 0 - OK

drop table t1,t2,t3,t4,t5,t6,t7,t8;
create table t9(id int NOT NULL PRIMARY KEY, data char(8)) engine=ndb
comment="NDB_TABLE=PARTITION_BALANCE=FOR_RP_BY_LDM_X_2";
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t9' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	1
1	3	2
1	6	3
1	9	4
1	12	1
1	15	2
1	18	3
1	21	4
1	24	1
1	27	2
1	30	3
1	33	4
1	36	1
1	39	2
1	42	3
1	45	4
2	0	1
2	3	2
2	6	3
2	9	4
2	12	1
2	15	2
2	18	3
2	21	4
2	24	1
2	27	2
2	30	3
2	33	4
2	36	1
2	39	2
2	42	3
2	45	4
3	1	1
3	4	2
3	7	3
3	10	4
3	13	1
3	16	2
3	19	3
3	22	4
3	25	1
3	28	2
3	31	3
3	34	4
3	37	1
3	40	2
3	43	3
3	46	4
4	1	1
4	4	2
4	7	3
4	10	4
4	13	1
4	16	2
4	19	3
4	22	4
4	25	1
4	28	2
4	31	3
4	34	4
4	37	1
4	40	2
4	43	3
4	46	4
5	2	1
5	5	2
5	8	3
5	11	4
5	14	1
5	17	2
5	20	3
5	23	4
5	26	1
5	29	2
5	32	3
5	35	4
5	38	1
5	41	2
5	44	3
5	47	4
6	2	1
6	5	2
6	8	3
6	11	4
6	14	1
6	17	2
6	20	3
6	23	4
6	26	1
6	29	2
6	32	3
6	35	4
6	38	1
6	41	2
6	44	3
6	47	4
create table t10 (id int NOT NULL PRIMARY KEY, data char(8)) engine=ndb
comment="NDB_TABLE=PARTITION_BALANCE=FOR_RP_BY_LDM_X_4";
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t10' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	1
1	3	2
1	6	3
1	9	4
1	12	1
1	15	2
1	18	3
1	21	4
1	24	1
1	27	2
1	30	3
1	33	4
1	36	1
1	39	2
1	42	3
1	45	4
1	48	1
1	51	2
1	54	3
1	57	4
1	60	1
1	63	2
1	66	3
1	69	4
1	72	1
1	75	2
1	78	3
1	81	4
1	84	1
1	87	2
1	90	3
1	93	4
2	0	1
2	3	2
2	6	3
2	9	4
2	12	1
2	15	2
2	18	3
2	21	4
2	24	1
2	27	2
2	30	3
2	33	4
2	36	1
2	39	2
2	42	3
2	45	4
2	48	1
2	51	2
2	54	3
2	57	4
2	60	1
2	63	2
2	66	3
2	69	4
2	72	1
2	75	2
2	78	3
2	81	4
2	84	1
2	87	2
2	90	3
2	93	4
3	1	1
3	4	2
3	7	3
3	10	4
3	13	1
3	16	2
3	19	3
3	22	4
3	25	1
3	28	2
3	31	3
3	34	4
3	37	1
3	40	2
3	43	3
3	46	4
3	49	1
3	52	2
3	55	3
3	58	4
3	61	1
3	64	2
3	67	3
3	70	4
3	73	1
3	76	2
3	79	3
3	82	4
3	85	1
3	88	2
3	91	3
3	94	4
4	1	1
4	4	2
4	7	3
4	10	4
4	13	1
4	16	2
4	19	3
4	22	4
4	25	1
4	28	2
4	31	3
4	34	4
4	37	1
4	40	2
4	43	3
4	46	4
4	49	1
4	52	2
4	55	3
4	58	4
4	61	1
4	64	2
4	67	3
4	70	4
4	73	1
4	76	2
4	79	3
4	82	4
4	85	1
4	88	2
4	91	3
4	94	4
5	2	1
5	5	2
5	8	3
5	11	4
5	14	1
5	17	2
5	20	3
5	23	4
5	26	1
5	29	2
5	32	3
5	35	4
5	38	1
5	41	2
5	44	3
5	47	4
5	50	1
5	53	2
5	56	3
5	59	4
5	62	1
5	65	2
5	68	3
5	71	4
5	74	1
5	77	2
5	80	3
5	83	4
5	86	1
5	89	2
5	92	3
5	95	4
6	2	1
6	5	2
6	8	3
6	11	4
6	14	1
6	17	2
6	20	3
6	23	4
6	26	1
6	29	2
6	32	3
6	35	4
6	38	1
6	41	2
6	44	3
6	47	4
6	50	1
6	53	2
6	56	3
6	59	4
6	62	1
6	65	2
6	68	3
6	71	4
6	74	1
6	77	2
6	80	3
6	83	4
6	86	1
6	89	2
6	92	3
6	95	4
create table t11 (id int NOT NULL PRIMARY KEY, data char(8)) engine=ndb
comment="NDB_TABLE=PARTITION_BALANCE=FOR_RP_BY_LDM_X_6";
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t11' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	1
1	3	2
1	6	3
1	9	4
1	12	1
1	15	2
1	18	3
1	21	4
1	24	1
1	27	2
1	30	3
1	33	4
1	36	1
1	39	2
1	42	3
1	45	4
1	48	1
1	51	2
1	54	3
1	57	4
1	60	1
1	63	2
1	66	3
1	69	4
1	72	1
1	75	2
1	78	3
1	81	4
1	84	1
1	87	2
1	90	3
1	93	4
1	96	1
1	99	2
1	102	3
1	105	4
1	108	1
1	111	2
1	114	3
1	117	4
1	120	1
1	123	2
1	126	3
1	129	4
1	132	1
1	135	2
1	138	3
1	141	4
2	0	1
2	3	2
2	6	3
2	9	4
2	12	1
2	15	2
2	18	3
2	21	4
2	24	1
2	27	2
2	30	3
2	33	4
2	36	1
2	39	2
2	42	3
2	45	4
2	48	1
2	51	2
2	54	3
2	57	4
2	60	1
2	63	2
2	66	3
2	69	4
2	72	1
2	75	2
2	78	3
2	81	4
2	84	1
2	87	2
2	90	3
2	93	4
2	96	1
2	99	2
2	102	3
2	105	4
2	108	1
2	111	2
2	114	3
2	117	4
2	120	1
2	123	2
2	126	3
2	129	4
2	132	1
2	135	2
2	138	3
2	141	4
3	1	1
3	4	2
3	7	3
3	10	4
3	13	1
3	16	2
3	19	3
3	22	4
3	25	1
3	28	2
3	31	3
3	34	4
3	37	1
3	40	2
3	43	3
3	46	4
3	49	1
3	52	2
3	55	3
3	58	4
3	61	1
3	64	2
3	67	3
3	70	4
3	73	1
3	76	2
3	79	3
3	82	4
3	85	1
3	88	2
3	91	3
3	94	4
3	97	1
3	100	2
3	103	3
3	106	4
3	109	1
3	112	2
3	115	3
3	118	4
3	121	1
3	124	2
3	127	3
3	130	4
3	133	1
3	136	2
3	139	3
3	142	4
4	1	1
4	4	2
4	7	3
4	10	4
4	13	1
4	16	2
4	19	3
4	22	4
4	25	1
4	28	2
4	31	3
4	34	4
4	37	1
4	40	2
4	43	3
4	46	4
4	49	1
4	52	2
4	55	3
4	58	4
4	61	1
4	64	2
4	67	3
4	70	4
4	73	1
4	76	2
4	79	3
4	82	4
4	85	1
4	88	2
4	91	3
4	94	4
4	97	1
4	100	2
4	103	3
4	106	4
4	109	1
4	112	2
4	115	3
4	118	4
4	121	1
4	124	2
4	127	3
4	130	4
4	133	1
4	136	2
4	139	3
4	142	4
5	2	1
5	5	2
5	8	3
5	11	4
5	14	1
5	17	2
5	20	3
5	23	4
5	26	1
5	29	2
5	32	3
5	35	4
5	38	1
5	41	2
5	44	3
5	47	4
5	50	1
5	53	2
5	56	3
5	59	4
5	62	1
5	65	2
5	68	3
5	71	4
5	74	1
5	77	2
5	80	3
5	83	4
5	86	1
5	89	2
5	92	3
5	95	4
5	98	1
5	101	2
5	104	3
5	107	4
5	110	1
5	113	2
5	116	3
5	119	4
5	122	1
5	125	2
5	128	3
5	131	4
5	134	1
5	137	2
5	140	3
5	143	4
6	2	1
6	5	2
6	8	3
6	11	4
6	14	1
6	17	2
6	20	3
6	23	4
6	26	1
6	29	2
6	32	3
6	35	4
6	38	1
6	41	2
6	44	3
6	47	4
6	50	1
6	53	2
6	56	3
6	59	4
6	62	1
6	65	2
6	68	3
6	71	4
6	74	1
6	77	2
6	80	3
6	83	4
6	86	1
6	89	2
6	92	3
6	95	4
6	98	1
6	101	2
6	104	3
6	107	4
6	110	1
6	113	2
6	116	3
6	119	4
6	122	1
6	125	2
6	128	3
6	131	4
6	134	1
6	137	2
6	140	3
6	143	4
create table t12 (id int NOT NULL PRIMARY KEY, data char(8)) engine=ndb
comment="NDB_TABLE=PARTITION_BALANCE=FOR_RP_BY_LDM_X_8";
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t12' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	1
1	3	2
1	6	3
1	9	4
1	12	1
1	15	2
1	18	3
1	21	4
1	24	1
1	27	2
1	30	3
1	33	4
1	36	1
1	39	2
1	42	3
1	45	4
1	48	1
1	51	2
1	54	3
1	57	4
1	60	1
1	63	2
1	66	3
1	69	4
1	72	1
1	75	2
1	78	3
1	81	4
1	84	1
1	87	2
1	90	3
1	93	4
1	96	1
1	99	2
1	102	3
1	105	4
1	108	1
1	111	2
1	114	3
1	117	4
1	120	1
1	123	2
1	126	3
1	129	4
1	132	1
1	135	2
1	138	3
1	141	4
1	144	1
1	147	2
1	150	3
1	153	4
1	156	1
1	159	2
1	162	3
1	165	4
1	168	1
1	171	2
1	174	3
1	177	4
1	180	1
1	183	2
1	186	3
1	189	4
2	0	1
2	3	2
2	6	3
2	9	4
2	12	1
2	15	2
2	18	3
2	21	4
2	24	1
2	27	2
2	30	3
2	33	4
2	36	1
2	39	2
2	42	3
2	45	4
2	48	1
2	51	2
2	54	3
2	57	4
2	60	1
2	63	2
2	66	3
2	69	4
2	72	1
2	75	2
2	78	3
2	81	4
2	84	1
2	87	2
2	90	3
2	93	4
2	96	1
2	99	2
2	102	3
2	105	4
2	108	1
2	111	2
2	114	3
2	117	4
2	120	1
2	123	2
2	126	3
2	129	4
2	132	1
2	135	2
2	138	3
2	141	4
2	144	1
2	147	2
2	150	3
2	153	4
2	156	1
2	159	2
2	162	3
2	165	4
2	168	1
2	171	2
2	174	3
2	177	4
2	180	1
2	183	2
2	186	3
2	189	4
3	1	1
3	4	2
3	7	3
3	10	4
3	13	1
3	16	2
3	19	3
3	22	4
3	25	1
3	28	2
3	31	3
3	34	4
3	37	1
3	40	2
3	43	3
3	46	4
3	49	1
3	52	2
3	55	3
3	58	4
3	61	1
3	64	2
3	67	3
3	70	4
3	73	1
3	76	2
3	79	3
3	82	4
3	85	1
3	88	2
3	91	3
3	94	4
3	97	1
3	100	2
3	103	3
3	106	4
3	109	1
3	112	2
3	115	3
3	118	4
3	121	1
3	124	2
3	127	3
3	130	4
3	133	1
3	136	2
3	139	3
3	142	4
3	145	1
3	148	2
3	151	3
3	154	4
3	157	1
3	160	2
3	163	3
3	166	4
3	169	1
3	172	2
3	175	3
3	178	4
3	181	1
3	184	2
3	187	3
3	190	4
4	1	1
4	4	2
4	7	3
4	10	4
4	13	1
4	16	2
4	19	3
4	22	4
4	25	1
4	28	2
4	31	3
4	34	4
4	37	1
4	40	2
4	43	3
4	46	4
4	49	1
4	52	2
4	55	3
4	58	4
4	61	1
4	64	2
4	67	3
4	70	4
4	73	1
4	76	2
4	79	3
4	82	4
4	85	1
4	88	2
4	91	3
4	94	4
4	97	1
4	100	2
4	103	3
4	106	4
4	109	1
4	112	2
4	115	3
4	118	4
4	121	1
4	124	2
4	127	3
4	130	4
4	133	1
4	136	2
4	139	3
4	142	4
4	145	1
4	148	2
4	151	3
4	154	4
4	157	1
4	160	2
4	163	3
4	166	4
4	169	1
4	172	2
4	175	3
4	178	4
4	181	1
4	184	2
4	187	3
4	190	4
5	2	1
5	5	2
5	8	3
5	11	4
5	14	1
5	17	2
5	20	3
5	23	4
5	26	1
5	29	2
5	32	3
5	35	4
5	38	1
5	41	2
5	44	3
5	47	4
5	50	1
5	53	2
5	56	3
5	59	4
5	62	1
5	65	2
5	68	3
5	71	4
5	74	1
5	77	2
5	80	3
5	83	4
5	86	1
5	89	2
5	92	3
5	95	4
5	98	1
5	101	2
5	104	3
5	107	4
5	110	1
5	113	2
5	116	3
5	119	4
5	122	1
5	125	2
5	128	3
5	131	4
5	134	1
5	137	2
5	140	3
5	143	4
5	146	1
5	149	2
5	152	3
5	155	4
5	158	1
5	161	2
5	164	3
5	167	4
5	170	1
5	173	2
5	176	3
5	179	4
5	182	1
5	185	2
5	188	3
5	191	4
6	2	1
6	5	2
6	8	3
6	11	4
6	14	1
6	17	2
6	20	3
6	23	4
6	26	1
6	29	2
6	32	3
6	35	4
6	38	1
6	41	2
6	44	3
6	47	4
6	50	1
6	53	2
6	56	3
6	59	4
6	62	1
6	65	2
6	68	3
6	71	4
6	74	1
6	77	2
6	80	3
6	83	4
6	86	1
6	89	2
6	92	3
6	95	4
6	98	1
6	101	2
6	104	3
6	107	4
6	110	1
6	113	2
6	116	3
6	119	4
6	122	1
6	125	2
6	128	3
6	131	4
6	134	1
6	137	2
6	140	3
6	143	4
6	146	1
6	149	2
6	152	3
6	155	4
6	158	1
6	161	2
6	164	3
6	167	4
6	170	1
6	173	2
6	176	3
6	179	4
6	182	1
6	185	2
6	188	3
6	191	4
create table t13 (id int NOT NULL PRIMARY KEY, data char(8)) engine=ndb
comment="NDB_TABLE=PARTITION_BALANCE=FOR_RP_BY_LDM_X_16";
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t13' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	1
1	3	2
1	6	3
1	9	4
1	12	1
1	15	2
1	18	3
1	21	4
1	24	1
1	27	2
1	30	3
1	33	4
1	36	1
1	39	2
1	42	3
1	45	4
1	48	1
1	51	2
1	54	3
1	57	4
1	60	1
1	63	2
1	66	3
1	69	4
1	72	1
1	75	2
1	78	3
1	81	4
1	84	1
1	87	2
1	90	3
1	93	4
1	96	1
1	99	2
1	102	3
1	105	4
1	108	1
1	111	2
1	114	3
1	117	4
1	120	1
1	123	2
1	126	3
1	129	4
1	132	1
1	135	2
1	138	3
1	141	4
1	144	1
1	147	2
1	150	3
1	153	4
1	156	1
1	159	2
1	162	3
1	165	4
1	168	1
1	171	2
1	174	3
1	177	4
1	180	1
1	183	2
1	186	3
1	189	4
1	192	1
1	195	2
1	198	3
1	201	4
1	204	1
1	207	2
1	210	3
1	213	4
1	216	1
1	219	2
1	222	3
1	225	4
1	228	1
1	231	2
1	234	3
1	237	4
1	240	1
1	243	2
1	246	3
1	249	4
1	252	1
1	255	2
1	258	3
1	261	4
1	264	1
1	267	2
1	270	3
1	273	4
1	276	1
1	279	2
1	282	3
1	285	4
1	288	1
1	291	2
1	294	3
1	297	4
1	300	1
1	303	2
1	306	3
1	309	4
1	312	1
1	315	2
1	318	3
1	321	4
1	324	1
1	327	2
1	330	3
1	333	4
1	336	1
1	339	2
1	342	3
1	345	4
1	348	1
1	351	2
1	354	3
1	357	4
1	360	1
1	363	2
1	366	3
1	369	4
1	372	1
1	375	2
1	378	3
1	381	4
2	0	1
2	3	2
2	6	3
2	9	4
2	12	1
2	15	2
2	18	3
2	21	4
2	24	1
2	27	2
2	30	3
2	33	4
2	36	1
2	39	2
2	42	3
2	45	4
2	48	1
2	51	2
2	54	3
2	57	4
2	60	1
2	63	2
2	66	3
2	69	4
2	72	1
2	75	2
2	78	3
2	81	4
2	84	1
2	87	2
2	90	3
2	93	4
2	96	1
2	99	2
2	102	3
2	105	4
2	108	1
2	111	2
2	114	3
2	117	4
2	120	1
2	123	2
2	126	3
2	129	4
2	132	1
2	135	2
2	138	3
2	141	4
2	144	1
2	147	2
2	150	3
2	153	4
2	156	1
2	159	2
2	162	3
2	165	4
2	168	1
2	171	2
2	174	3
2	177	4
2	180	1
2	183	2
2	186	3
2	189	4
2	192	1
2	195	2
2	198	3
2	201	4
2	204	1
2	207	2
2	210	3
2	213	4
2	216	1
2	219	2
2	222	3
2	225	4
2	228	1
2	231	2
2	234	3
2	237	4
2	240	1
2	243	2
2	246	3
2	249	4
2	252	1
2	255	2
2	258	3
2	261	4
2	264	1
2	267	2
2	270	3
2	273	4
2	276	1
2	279	2
2	282	3
2	285	4
2	288	1
2	291	2
2	294	3
2	297	4
2	300	1
2	303	2
2	306	3
2	309	4
2	312	1
2	315	2
2	318	3
2	321	4
2	324	1
2	327	2
2	330	3
2	333	4
2	336	1
2	339	2
2	342	3
2	345	4
2	348	1
2	351	2
2	354	3
2	357	4
2	360	1
2	363	2
2	366	3
2	369	4
2	372	1
2	375	2
2	378	3
2	381	4
3	1	1
3	4	2
3	7	3
3	10	4
3	13	1
3	16	2
3	19	3
3	22	4
3	25	1
3	28	2
3	31	3
3	34	4
3	37	1
3	40	2
3	43	3
3	46	4
3	49	1
3	52	2
3	55	3
3	58	4
3	61	1
3	64	2
3	67	3
3	70	4
3	73	1
3	76	2
3	79	3
3	82	4
3	85	1
3	88	2
3	91	3
3	94	4
3	97	1
3	100	2
3	103	3
3	106	4
3	109	1
3	112	2
3	115	3
3	118	4
3	121	1
3	124	2
3	127	3
3	130	4
3	133	1
3	136	2
3	139	3
3	142	4
3	145	1
3	148	2
3	151	3
3	154	4
3	157	1
3	160	2
3	163	3
3	166	4
3	169	1
3	172	2
3	175	3
3	178	4
3	181	1
3	184	2
3	187	3
3	190	4
3	193	1
3	196	2
3	199	3
3	202	4
3	205	1
3	208	2
3	211	3
3	214	4
3	217	1
3	220	2
3	223	3
3	226	4
3	229	1
3	232	2
3	235	3
3	238	4
3	241	1
3	244	2
3	247	3
3	250	4
3	253	1
3	256	2
3	259	3
3	262	4
3	265	1
3	268	2
3	271	3
3	274	4
3	277	1
3	280	2
3	283	3
3	286	4
3	289	1
3	292	2
3	295	3
3	298	4
3	301	1
3	304	2
3	307	3
3	310	4
3	313	1
3	316	2
3	319	3
3	322	4
3	325	1
3	328	2
3	331	3
3	334	4
3	337	1
3	340	2
3	343	3
3	346	4
3	349	1
3	352	2
3	355	3
3	358	4
3	361	1
3	364	2
3	367	3
3	370	4
3	373	1
3	376	2
3	379	3
3	382	4
4	1	1
4	4	2
4	7	3
4	10	4
4	13	1
4	16	2
4	19	3
4	22	4
4	25	1
4	28	2
4	31	3
4	34	4
4	37	1
4	40	2
4	43	3
4	46	4
4	49	1
4	52	2
4	55	3
4	58	4
4	61	1
4	64	2
4	67	3
4	70	4
4	73	1
4	76	2
4	79	3
4	82	4
4	85	1
4	88	2
4	91	3
4	94	4
4	97	1
4	100	2
4	103	3
4	106	4
4	109	1
4	112	2
4	115	3
4	118	4
4	121	1
4	124	2
4	127	3
4	130	4
4	133	1
4	136	2
4	139	3
4	142	4
4	145	1
4	148	2
4	151	3
4	154	4
4	157	1
4	160	2
4	163	3
4	166	4
4	169	1
4	172	2
4	175	3
4	178	4
4	181	1
4	184	2
4	187	3
4	190	4
4	193	1
4	196	2
4	199	3
4	202	4
4	205	1
4	208	2
4	211	3
4	214	4
4	217	1
4	220	2
4	223	3
4	226	4
4	229	1
4	232	2
4	235	3
4	238	4
4	241	1
4	244	2
4	247	3
4	250	4
4	253	1
4	256	2
4	259	3
4	262	4
4	265	1
4	268	2
4	271	3
4	274	4
4	277	1
4	280	2
4	283	3
4	286	4
4	289	1
4	292	2
4	295	3
4	298	4
4	301	1
4	304	2
4	307	3
4	310	4
4	313	1
4	316	2
4	319	3
4	322	4
4	325	1
4	328	2
4	331	3
4	334	4
4	337	1
4	340	2
4	343	3
4	346	4
4	349	1
4	352	2
4	355	3
4	358	4
4	361	1
4	364	2
4	367	3
4	370	4
4	373	1
4	376	2
4	379	3
4	382	4
5	2	1
5	5	2
5	8	3
5	11	4
5	14	1
5	17	2
5	20	3
5	23	4
5	26	1
5	29	2
5	32	3
5	35	4
5	38	1
5	41	2
5	44	3
5	47	4
5	50	1
5	53	2
5	56	3
5	59	4
5	62	1
5	65	2
5	68	3
5	71	4
5	74	1
5	77	2
5	80	3
5	83	4
5	86	1
5	89	2
5	92	3
5	95	4
5	98	1
5	101	2
5	104	3
5	107	4
5	110	1
5	113	2
5	116	3
5	119	4
5	122	1
5	125	2
5	128	3
5	131	4
5	134	1
5	137	2
5	140	3
5	143	4
5	146	1
5	149	2
5	152	3
5	155	4
5	158	1
5	161	2
5	164	3
5	167	4
5	170	1
5	173	2
5	176	3
5	179	4
5	182	1
5	185	2
5	188	3
5	191	4
5	194	1
5	197	2
5	200	3
5	203	4
5	206	1
5	209	2
5	212	3
5	215	4
5	218	1
5	221	2
5	224	3
5	227	4
5	230	1
5	233	2
5	236	3
5	239	4
5	242	1
5	245	2
5	248	3
5	251	4
5	254	1
5	257	2
5	260	3
5	263	4
5	266	1
5	269	2
5	272	3
5	275	4
5	278	1
5	281	2
5	284	3
5	287	4
5	290	1
5	293	2
5	296	3
5	299	4
5	302	1
5	305	2
5	308	3
5	311	4
5	314	1
5	317	2
5	320	3
5	323	4
5	326	1
5	329	2
5	332	3
5	335	4
5	338	1
5	341	2
5	344	3
5	347	4
5	350	1
5	353	2
5	356	3
5	359	4
5	362	1
5	365	2
5	368	3
5	371	4
5	374	1
5	377	2
5	380	3
5	383	4
6	2	1
6	5	2
6	8	3
6	11	4
6	14	1
6	17	2
6	20	3
6	23	4
6	26	1
6	29	2
6	32	3
6	35	4
6	38	1
6	41	2
6	44	3
6	47	4
6	50	1
6	53	2
6	56	3
6	59	4
6	62	1
6	65	2
6	68	3
6	71	4
6	74	1
6	77	2
6	80	3
6	83	4
6	86	1
6	89	2
6	92	3
6	95	4
6	98	1
6	101	2
6	104	3
6	107	4
6	110	1
6	113	2
6	116	3
6	119	4
6	122	1
6	125	2
6	128	3
6	131	4
6	134	1
6	137	2
6	140	3
6	143	4
6	146	1
6	149	2
6	152	3
6	155	4
6	158	1
6	161	2
6	164	3
6	167	4
6	170	1
6	173	2
6	176	3
6	179	4
6	182	1
6	185	2
6	188	3
6	191	4
6	194	1
6	197	2
6	200	3
6	203	4
6	206	1
6	209	2
6	212	3
6	215	4
6	218	1
6	221	2
6	224	3
6	227	4
6	230	1
6	233	2
6	236	3
6	239	4
6	242	1
6	245	2
6	248	3
6	251	4
6	254	1
6	257	2
6	260	3
6	263	4
6	266	1
6	269	2
6	272	3
6	275	4
6	278	1
6	281	2
6	284	3
6	287	4
6	290	1
6	293	2
6	296	3
6	299	4
6	302	1
6	305	2
6	308	3
6	311	4
6	314	1
6	317	2
6	320	3
6	323	4
6	326	1
6	329	2
6	332	3
6	335	4
6	338	1
6	341	2
6	344	3
6	347	4
6	350	1
6	353	2
6	356	3
6	359	4
6	362	1
6	365	2
6	368	3
6	371	4
6	374	1
6	377	2
6	380	3
6	383	4
create table t14 (id int NOT NULL PRIMARY KEY, data char(8)) engine=ndb
comment="NDB_TABLE=PARTITION_BALANCE=FOR_RP_BY_LDM";
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t2' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
select count(*) into @cnt_t9_0
from information_schema.partitions
where table_schema = 'test' and table_name = 't9';
select count(*) into @cnt_t10_0
from information_schema.partitions
where table_schema = 'test' and table_name = 't10';
select count(*) into @cnt_t11_0
from information_schema.partitions
where table_schema = 'test' and table_name = 't11';
select count(*) into @cnt_t12_0
from information_schema.partitions
where table_schema = 'test' and table_name = 't12';
select count(*) into @cnt_t13_0
from information_schema.partitions
where table_schema = 'test' and table_name = 't13';
select count(*) into @cnt_t14_0
from information_schema.partitions
where table_schema = 'test' and table_name = 't14';
select @cnt_t9_0 = 2 * @cnt_t14_0;
@cnt_t9_0 = 2 * @cnt_t14_0
1
select @cnt_t10_0 = 4 * @cnt_t14_0;
@cnt_t10_0 = 4 * @cnt_t14_0
1
select @cnt_t11_0 = 6 * @cnt_t14_0;
@cnt_t11_0 = 6 * @cnt_t14_0
1
select @cnt_t12_0 = 8 * @cnt_t14_0;
@cnt_t12_0 = 8 * @cnt_t14_0
1
select @cnt_t13_0 = 16 * @cnt_t14_0;
@cnt_t13_0 = 16 * @cnt_t14_0
1
Creating nodegroup
alter table t9 algorithm=inplace, reorganize partition;
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t9' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	1
1	3	2
1	6	3
1	9	4
1	12	1
1	15	2
1	18	3
1	21	4
1	24	1
1	27	2
1	30	3
1	33	4
1	36	1
1	39	2
1	42	3
1	45	4
2	0	1
2	3	2
2	6	3
2	9	4
2	12	1
2	15	2
2	18	3
2	21	4
2	24	1
2	27	2
2	30	3
2	33	4
2	36	1
2	39	2
2	42	3
2	45	4
3	1	1
3	4	2
3	7	3
3	10	4
3	13	1
3	16	2
3	19	3
3	22	4
3	25	1
3	28	2
3	31	3
3	34	4
3	37	1
3	40	2
3	43	3
3	46	4
4	1	1
4	4	2
4	7	3
4	10	4
4	13	1
4	16	2
4	19	3
4	22	4
4	25	1
4	28	2
4	31	3
4	34	4
4	37	1
4	40	2
4	43	3
4	46	4
5	2	1
5	5	2
5	8	3
5	11	4
5	14	1
5	17	2
5	20	3
5	23	4
5	26	1
5	29	2
5	32	3
5	35	4
5	38	1
5	41	2
5	44	3
5	47	4
6	2	1
6	5	2
6	8	3
6	11	4
6	14	1
6	17	2
6	20	3
6	23	4
6	26	1
6	29	2
6	32	3
6	35	4
6	38	1
6	41	2
6	44	3
6	47	4
7	48	1
7	49	2
7	50	3
7	51	4
7	52	1
7	53	2
7	54	3
7	55	4
7	56	1
7	57	2
7	58	3
7	59	4
7	60	1
7	61	2
7	62	3
7	63	4
8	48	1
8	49	2
8	50	3
8	51	4
8	52	1
8	53	2
8	54	3
8	55	4
8	56	1
8	57	2
8	58	3
8	59	4
8	60	1
8	61	2
8	62	3
8	63	4
alter table t10 algorithm=inplace, reorganize partition;
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t10' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	1
1	3	2
1	6	3
1	9	4
1	12	1
1	15	2
1	18	3
1	21	4
1	24	1
1	27	2
1	30	3
1	33	4
1	36	1
1	39	2
1	42	3
1	45	4
1	48	1
1	51	2
1	54	3
1	57	4
1	60	1
1	63	2
1	66	3
1	69	4
1	72	1
1	75	2
1	78	3
1	81	4
1	84	1
1	87	2
1	90	3
1	93	4
2	0	1
2	3	2
2	6	3
2	9	4
2	12	1
2	15	2
2	18	3
2	21	4
2	24	1
2	27	2
2	30	3
2	33	4
2	36	1
2	39	2
2	42	3
2	45	4
2	48	1
2	51	2
2	54	3
2	57	4
2	60	1
2	63	2
2	66	3
2	69	4
2	72	1
2	75	2
2	78	3
2	81	4
2	84	1
2	87	2
2	90	3
2	93	4
3	1	1
3	4	2
3	7	3
3	10	4
3	13	1
3	16	2
3	19	3
3	22	4
3	25	1
3	28	2
3	31	3
3	34	4
3	37	1
3	40	2
3	43	3
3	46	4
3	49	1
3	52	2
3	55	3
3	58	4
3	61	1
3	64	2
3	67	3
3	70	4
3	73	1
3	76	2
3	79	3
3	82	4
3	85	1
3	88	2
3	91	3
3	94	4
4	1	1
4	4	2
4	7	3
4	10	4
4	13	1
4	16	2
4	19	3
4	22	4
4	25	1
4	28	2
4	31	3
4	34	4
4	37	1
4	40	2
4	43	3
4	46	4
4	49	1
4	52	2
4	55	3
4	58	4
4	61	1
4	64	2
4	67	3
4	70	4
4	73	1
4	76	2
4	79	3
4	82	4
4	85	1
4	88	2
4	91	3
4	94	4
5	2	1
5	5	2
5	8	3
5	11	4
5	14	1
5	17	2
5	20	3
5	23	4
5	26	1
5	29	2
5	32	3
5	35	4
5	38	1
5	41	2
5	44	3
5	47	4
5	50	1
5	53	2
5	56	3
5	59	4
5	62	1
5	65	2
5	68	3
5	71	4
5	74	1
5	77	2
5	80	3
5	83	4
5	86	1
5	89	2
5	92	3
5	95	4
6	2	1
6	5	2
6	8	3
6	11	4
6	14	1
6	17	2
6	20	3
6	23	4
6	26	1
6	29	2
6	32	3
6	35	4
6	38	1
6	41	2
6	44	3
6	47	4
6	50	1
6	53	2
6	56	3
6	59	4
6	62	1
6	65	2
6	68	3
6	71	4
6	74	1
6	77	2
6	80	3
6	83	4
6	86	1
6	89	2
6	92	3
6	95	4
7	96	1
7	97	2
7	98	3
7	99	4
7	100	1
7	101	2
7	102	3
7	103	4
7	104	1
7	105	2
7	106	3
7	107	4
7	108	1
7	109	2
7	110	3
7	111	4
7	112	1
7	113	2
7	114	3
7	115	4
7	116	1
7	117	2
7	118	3
7	119	4
7	120	1
7	121	2
7	122	3
7	123	4
7	124	1
7	125	2
7	126	3
7	127	4
8	96	1
8	97	2
8	98	3
8	99	4
8	100	1
8	101	2
8	102	3
8	103	4
8	104	1
8	105	2
8	106	3
8	107	4
8	108	1
8	109	2
8	110	3
8	111	4
8	112	1
8	113	2
8	114	3
8	115	4
8	116	1
8	117	2
8	118	3
8	119	4
8	120	1
8	121	2
8	122	3
8	123	4
8	124	1
8	125	2
8	126	3
8	127	4
alter table t11 algorithm=inplace, reorganize partition;
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t11' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	1
1	3	2
1	6	3
1	9	4
1	12	1
1	15	2
1	18	3
1	21	4
1	24	1
1	27	2
1	30	3
1	33	4
1	36	1
1	39	2
1	42	3
1	45	4
1	48	1
1	51	2
1	54	3
1	57	4
1	60	1
1	63	2
1	66	3
1	69	4
1	72	1
1	75	2
1	78	3
1	81	4
1	84	1
1	87	2
1	90	3
1	93	4
1	96	1
1	99	2
1	102	3
1	105	4
1	108	1
1	111	2
1	114	3
1	117	4
1	120	1
1	123	2
1	126	3
1	129	4
1	132	1
1	135	2
1	138	3
1	141	4
2	0	1
2	3	2
2	6	3
2	9	4
2	12	1
2	15	2
2	18	3
2	21	4
2	24	1
2	27	2
2	30	3
2	33	4
2	36	1
2	39	2
2	42	3
2	45	4
2	48	1
2	51	2
2	54	3
2	57	4
2	60	1
2	63	2
2	66	3
2	69	4
2	72	1
2	75	2
2	78	3
2	81	4
2	84	1
2	87	2
2	90	3
2	93	4
2	96	1
2	99	2
2	102	3
2	105	4
2	108	1
2	111	2
2	114	3
2	117	4
2	120	1
2	123	2
2	126	3
2	129	4
2	132	1
2	135	2
2	138	3
2	141	4
3	1	1
3	4	2
3	7	3
3	10	4
3	13	1
3	16	2
3	19	3
3	22	4
3	25	1
3	28	2
3	31	3
3	34	4
3	37	1
3	40	2
3	43	3
3	46	4
3	49	1
3	52	2
3	55	3
3	58	4
3	61	1
3	64	2
3	67	3
3	70	4
3	73	1
3	76	2
3	79	3
3	82	4
3	85	1
3	88	2
3	91	3
3	94	4
3	97	1
3	100	2
3	103	3
3	106	4
3	109	1
3	112	2
3	115	3
3	118	4
3	121	1
3	124	2
3	127	3
3	130	4
3	133	1
3	136	2
3	139	3
3	142	4
4	1	1
4	4	2
4	7	3
4	10	4
4	13	1
4	16	2
4	19	3
4	22	4
4	25	1
4	28	2
4	31	3
4	34	4
4	37	1
4	40	2
4	43	3
4	46	4
4	49	1
4	52	2
4	55	3
4	58	4
4	61	1
4	64	2
4	67	3
4	70	4
4	73	1
4	76	2
4	79	3
4	82	4
4	85	1
4	88	2
4	91	3
4	94	4
4	97	1
4	100	2
4	103	3
4	106	4
4	109	1
4	112	2
4	115	3
4	118	4
4	121	1
4	124	2
4	127	3
4	130	4
4	133	1
4	136	2
4	139	3
4	142	4
5	2	1
5	5	2
5	8	3
5	11	4
5	14	1
5	17	2
5	20	3
5	23	4
5	26	1
5	29	2
5	32	3
5	35	4
5	38	1
5	41	2
5	44	3
5	47	4
5	50	1
5	53	2
5	56	3
5	59	4
5	62	1
5	65	2
5	68	3
5	71	4
5	74	1
5	77	2
5	80	3
5	83	4
5	86	1
5	89	2
5	92	3
5	95	4
5	98	1
5	101	2
5	104	3
5	107	4
5	110	1
5	113	2
5	116	3
5	119	4
5	122	1
5	125	2
5	128	3
5	131	4
5	134	1
5	137	2
5	140	3
5	143	4
6	2	1
6	5	2
6	8	3
6	11	4
6	14	1
6	17	2
6	20	3
6	23	4
6	26	1
6	29	2
6	32	3
6	35	4
6	38	1
6	41	2
6	44	3
6	47	4
6	50	1
6	53	2
6	56	3
6	59	4
6	62	1
6	65	2
6	68	3
6	71	4
6	74	1
6	77	2
6	80	3
6	83	4
6	86	1
6	89	2
6	92	3
6	95	4
6	98	1
6	101	2
6	104	3
6	107	4
6	110	1
6	113	2
6	116	3
6	119	4
6	122	1
6	125	2
6	128	3
6	131	4
6	134	1
6	137	2
6	140	3
6	143	4
7	144	1
7	145	2
7	146	3
7	147	4
7	148	1
7	149	2
7	150	3
7	151	4
7	152	1
7	153	2
7	154	3
7	155	4
7	156	1
7	157	2
7	158	3
7	159	4
7	160	1
7	161	2
7	162	3
7	163	4
7	164	1
7	165	2
7	166	3
7	167	4
7	168	1
7	169	2
7	170	3
7	171	4
7	172	1
7	173	2
7	174	3
7	175	4
7	176	1
7	177	2
7	178	3
7	179	4
7	180	1
7	181	2
7	182	3
7	183	4
7	184	1
7	185	2
7	186	3
7	187	4
7	188	1
7	189	2
7	190	3
7	191	4
8	144	1
8	145	2
8	146	3
8	147	4
8	148	1
8	149	2
8	150	3
8	151	4
8	152	1
8	153	2
8	154	3
8	155	4
8	156	1
8	157	2
8	158	3
8	159	4
8	160	1
8	161	2
8	162	3
8	163	4
8	164	1
8	165	2
8	166	3
8	167	4
8	168	1
8	169	2
8	170	3
8	171	4
8	172	1
8	173	2
8	174	3
8	175	4
8	176	1
8	177	2
8	178	3
8	179	4
8	180	1
8	181	2
8	182	3
8	183	4
8	184	1
8	185	2
8	186	3
8	187	4
8	188	1
8	189	2
8	190	3
8	191	4
alter table t12 algorithm=inplace, reorganize partition;
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t12' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	1
1	3	2
1	6	3
1	9	4
1	12	1
1	15	2
1	18	3
1	21	4
1	24	1
1	27	2
1	30	3
1	33	4
1	36	1
1	39	2
1	42	3
1	45	4
1	48	1
1	51	2
1	54	3
1	57	4
1	60	1
1	63	2
1	66	3
1	69	4
1	72	1
1	75	2
1	78	3
1	81	4
1	84	1
1	87	2
1	90	3
1	93	4
1	96	1
1	99	2
1	102	3
1	105	4
1	108	1
1	111	2
1	114	3
1	117	4
1	120	1
1	123	2
1	126	3
1	129	4
1	132	1
1	135	2
1	138	3
1	141	4
1	144	1
1	147	2
1	150	3
1	153	4
1	156	1
1	159	2
1	162	3
1	165	4
1	168	1
1	171	2
1	174	3
1	177	4
1	180	1
1	183	2
1	186	3
1	189	4
2	0	1
2	3	2
2	6	3
2	9	4
2	12	1
2	15	2
2	18	3
2	21	4
2	24	1
2	27	2
2	30	3
2	33	4
2	36	1
2	39	2
2	42	3
2	45	4
2	48	1
2	51	2
2	54	3
2	57	4
2	60	1
2	63	2
2	66	3
2	69	4
2	72	1
2	75	2
2	78	3
2	81	4
2	84	1
2	87	2
2	90	3
2	93	4
2	96	1
2	99	2
2	102	3
2	105	4
2	108	1
2	111	2
2	114	3
2	117	4
2	120	1
2	123	2
2	126	3
2	129	4
2	132	1
2	135	2
2	138	3
2	141	4
2	144	1
2	147	2
2	150	3
2	153	4
2	156	1
2	159	2
2	162	3
2	165	4
2	168	1
2	171	2
2	174	3
2	177	4
2	180	1
2	183	2
2	186	3
2	189	4
3	1	1
3	4	2
3	7	3
3	10	4
3	13	1
3	16	2
3	19	3
3	22	4
3	25	1
3	28	2
3	31	3
3	34	4
3	37	1
3	40	2
3	43	3
3	46	4
3	49	1
3	52	2
3	55	3
3	58	4
3	61	1
3	64	2
3	67	3
3	70	4
3	73	1
3	76	2
3	79	3
3	82	4
3	85	1
3	88	2
3	91	3
3	94	4
3	97	1
3	100	2
3	103	3
3	106	4
3	109	1
3	112	2
3	115	3
3	118	4
3	121	1
3	124	2
3	127	3
3	130	4
3	133	1
3	136	2
3	139	3
3	142	4
3	145	1
3	148	2
3	151	3
3	154	4
3	157	1
3	160	2
3	163	3
3	166	4
3	169	1
3	172	2
3	175	3
3	178	4
3	181	1
3	184	2
3	187	3
3	190	4
4	1	1
4	4	2
4	7	3
4	10	4
4	13	1
4	16	2
4	19	3
4	22	4
4	25	1
4	28	2
4	31	3
4	34	4
4	37	1
4	40	2
4	43	3
4	46	4
4	49	1
4	52	2
4	55	3
4	58	4
4	61	1
4	64	2
4	67	3
4	70	4
4	73	1
4	76	2
4	79	3
4	82	4
4	85	1
4	88	2
4	91	3
4	94	4
4	97	1
4	100	2
4	103	3
4	106	4
4	109	1
4	112	2
4	115	3
4	118	4
4	121	1
4	124	2
4	127	3
4	130	4
4	133	1
4	136	2
4	139	3
4	142	4
4	145	1
4	148	2
4	151	3
4	154	4
4	157	1
4	160	2
4	163	3
4	166	4
4	169	1
4	172	2
4	175	3
4	178	4
4	181	1
4	184	2
4	187	3
4	190	4
5	2	1
5	5	2
5	8	3
5	11	4
5	14	1
5	17	2
5	20	3
5	23	4
5	26	1
5	29	2
5	32	3
5	35	4
5	38	1
5	41	2
5	44	3
5	47	4
5	50	1
5	53	2
5	56	3
5	59	4
5	62	1
5	65	2
5	68	3
5	71	4
5	74	1
5	77	2
5	80	3
5	83	4
5	86	1
5	89	2
5	92	3
5	95	4
5	98	1
5	101	2
5	104	3
5	107	4
5	110	1
5	113	2
5	116	3
5	119	4
5	122	1
5	125	2
5	128	3
5	131	4
5	134	1
5	137	2
5	140	3
5	143	4
5	146	1
5	149	2
5	152	3
5	155	4
5	158	1
5	161	2
5	164	3
5	167	4
5	170	1
5	173	2
5	176	3
5	179	4
5	182	1
5	185	2
5	188	3
5	191	4
6	2	1
6	5	2
6	8	3
6	11	4
6	14	1
6	17	2
6	20	3
6	23	4
6	26	1
6	29	2
6	32	3
6	35	4
6	38	1
6	41	2
6	44	3
6	47	4
6	50	1
6	53	2
6	56	3
6	59	4
6	62	1
6	65	2
6	68	3
6	71	4
6	74	1
6	77	2
6	80	3
6	83	4
6	86	1
6	89	2
6	92	3
6	95	4
6	98	1
6	101	2
6	104	3
6	107	4
6	110	1
6	113	2
6	116	3
6	119	4
6	122	1
6	125	2
6	128	3
6	131	4
6	134	1
6	137	2
6	140	3
6	143	4
6	146	1
6	149	2
6	152	3
6	155	4
6	158	1
6	161	2
6	164	3
6	167	4
6	170	1
6	173	2
6	176	3
6	179	4
6	182	1
6	185	2
6	188	3
6	191	4
7	192	1
7	193	2
7	194	3
7	195	4
7	196	1
7	197	2
7	198	3
7	199	4
7	200	1
7	201	2
7	202	3
7	203	4
7	204	1
7	205	2
7	206	3
7	207	4
7	208	1
7	209	2
7	210	3
7	211	4
7	212	1
7	213	2
7	214	3
7	215	4
7	216	1
7	217	2
7	218	3
7	219	4
7	220	1
7	221	2
7	222	3
7	223	4
7	224	1
7	225	2
7	226	3
7	227	4
7	228	1
7	229	2
7	230	3
7	231	4
7	232	1
7	233	2
7	234	3
7	235	4
7	236	1
7	237	2
7	238	3
7	239	4
7	240	1
7	241	2
7	242	3
7	243	4
7	244	1
7	245	2
7	246	3
7	247	4
7	248	1
7	249	2
7	250	3
7	251	4
7	252	1
7	253	2
7	254	3
7	255	4
8	192	1
8	193	2
8	194	3
8	195	4
8	196	1
8	197	2
8	198	3
8	199	4
8	200	1
8	201	2
8	202	3
8	203	4
8	204	1
8	205	2
8	206	3
8	207	4
8	208	1
8	209	2
8	210	3
8	211	4
8	212	1
8	213	2
8	214	3
8	215	4
8	216	1
8	217	2
8	218	3
8	219	4
8	220	1
8	221	2
8	222	3
8	223	4
8	224	1
8	225	2
8	226	3
8	227	4
8	228	1
8	229	2
8	230	3
8	231	4
8	232	1
8	233	2
8	234	3
8	235	4
8	236	1
8	237	2
8	238	3
8	239	4
8	240	1
8	241	2
8	242	3
8	243	4
8	244	1
8	245	2
8	246	3
8	247	4
8	248	1
8	249	2
8	250	3
8	251	4
8	252	1
8	253	2
8	254	3
8	255	4
alter table t13 algorithm=inplace, reorganize partition;
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t13' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	1
1	3	2
1	6	3
1	9	4
1	12	1
1	15	2
1	18	3
1	21	4
1	24	1
1	27	2
1	30	3
1	33	4
1	36	1
1	39	2
1	42	3
1	45	4
1	48	1
1	51	2
1	54	3
1	57	4
1	60	1
1	63	2
1	66	3
1	69	4
1	72	1
1	75	2
1	78	3
1	81	4
1	84	1
1	87	2
1	90	3
1	93	4
1	96	1
1	99	2
1	102	3
1	105	4
1	108	1
1	111	2
1	114	3
1	117	4
1	120	1
1	123	2
1	126	3
1	129	4
1	132	1
1	135	2
1	138	3
1	141	4
1	144	1
1	147	2
1	150	3
1	153	4
1	156	1
1	159	2
1	162	3
1	165	4
1	168	1
1	171	2
1	174	3
1	177	4
1	180	1
1	183	2
1	186	3
1	189	4
1	192	1
1	195	2
1	198	3
1	201	4
1	204	1
1	207	2
1	210	3
1	213	4
1	216	1
1	219	2
1	222	3
1	225	4
1	228	1
1	231	2
1	234	3
1	237	4
1	240	1
1	243	2
1	246	3
1	249	4
1	252	1
1	255	2
1	258	3
1	261	4
1	264	1
1	267	2
1	270	3
1	273	4
1	276	1
1	279	2
1	282	3
1	285	4
1	288	1
1	291	2
1	294	3
1	297	4
1	300	1
1	303	2
1	306	3
1	309	4
1	312	1
1	315	2
1	318	3
1	321	4
1	324	1
1	327	2
1	330	3
1	333	4
1	336	1
1	339	2
1	342	3
1	345	4
1	348	1
1	351	2
1	354	3
1	357	4
1	360	1
1	363	2
1	366	3
1	369	4
1	372	1
1	375	2
1	378	3
1	381	4
2	0	1
2	3	2
2	6	3
2	9	4
2	12	1
2	15	2
2	18	3
2	21	4
2	24	1
2	27	2
2	30	3
2	33	4
2	36	1
2	39	2
2	42	3
2	45	4
2	48	1
2	51	2
2	54	3
2	57	4
2	60	1
2	63	2
2	66	3
2	69	4
2	72	1
2	75	2
2	78	3
2	81	4
2	84	1
2	87	2
2	90	3
2	93	4
2	96	1
2	99	2
2	102	3
2	105	4
2	108	1
2	111	2
2	114	3
2	117	4
2	120	1
2	123	2
2	126	3
2	129	4
2	132	1
2	135	2
2	138	3
2	141	4
2	144	1
2	147	2
2	150	3
2	153	4
2	156	1
2	159	2
2	162	3
2	165	4
2	168	1
2	171	2
2	174	3
2	177	4
2	180	1
2	183	2
2	186	3
2	189	4
2	192	1
2	195	2
2	198	3
2	201	4
2	204	1
2	207	2
2	210	3
2	213	4
2	216	1
2	219	2
2	222	3
2	225	4
2	228	1
2	231	2
2	234	3
2	237	4
2	240	1
2	243	2
2	246	3
2	249	4
2	252	1
2	255	2
2	258	3
2	261	4
2	264	1
2	267	2
2	270	3
2	273	4
2	276	1
2	279	2
2	282	3
2	285	4
2	288	1
2	291	2
2	294	3
2	297	4
2	300	1
2	303	2
2	306	3
2	309	4
2	312	1
2	315	2
2	318	3
2	321	4
2	324	1
2	327	2
2	330	3
2	333	4
2	336	1
2	339	2
2	342	3
2	345	4
2	348	1
2	351	2
2	354	3
2	357	4
2	360	1
2	363	2
2	366	3
2	369	4
2	372	1
2	375	2
2	378	3
2	381	4
3	1	1
3	4	2
3	7	3
3	10	4
3	13	1
3	16	2
3	19	3
3	22	4
3	25	1
3	28	2
3	31	3
3	34	4
3	37	1
3	40	2
3	43	3
3	46	4
3	49	1
3	52	2
3	55	3
3	58	4
3	61	1
3	64	2
3	67	3
3	70	4
3	73	1
3	76	2
3	79	3
3	82	4
3	85	1
3	88	2
3	91	3
3	94	4
3	97	1
3	100	2
3	103	3
3	106	4
3	109	1
3	112	2
3	115	3
3	118	4
3	121	1
3	124	2
3	127	3
3	130	4
3	133	1
3	136	2
3	139	3
3	142	4
3	145	1
3	148	2
3	151	3
3	154	4
3	157	1
3	160	2
3	163	3
3	166	4
3	169	1
3	172	2
3	175	3
3	178	4
3	181	1
3	184	2
3	187	3
3	190	4
3	193	1
3	196	2
3	199	3
3	202	4
3	205	1
3	208	2
3	211	3
3	214	4
3	217	1
3	220	2
3	223	3
3	226	4
3	229	1
3	232	2
3	235	3
3	238	4
3	241	1
3	244	2
3	247	3
3	250	4
3	253	1
3	256	2
3	259	3
3	262	4
3	265	1
3	268	2
3	271	3
3	274	4
3	277	1
3	280	2
3	283	3
3	286	4
3	289	1
3	292	2
3	295	3
3	298	4
3	301	1
3	304	2
3	307	3
3	310	4
3	313	1
3	316	2
3	319	3
3	322	4
3	325	1
3	328	2
3	331	3
3	334	4
3	337	1
3	340	2
3	343	3
3	346	4
3	349	1
3	352	2
3	355	3
3	358	4
3	361	1
3	364	2
3	367	3
3	370	4
3	373	1
3	376	2
3	379	3
3	382	4
4	1	1
4	4	2
4	7	3
4	10	4
4	13	1
4	16	2
4	19	3
4	22	4
4	25	1
4	28	2
4	31	3
4	34	4
4	37	1
4	40	2
4	43	3
4	46	4
4	49	1
4	52	2
4	55	3
4	58	4
4	61	1
4	64	2
4	67	3
4	70	4
4	73	1
4	76	2
4	79	3
4	82	4
4	85	1
4	88	2
4	91	3
4	94	4
4	97	1
4	100	2
4	103	3
4	106	4
4	109	1
4	112	2
4	115	3
4	118	4
4	121	1
4	124	2
4	127	3
4	130	4
4	133	1
4	136	2
4	139	3
4	142	4
4	145	1
4	148	2
4	151	3
4	154	4
4	157	1
4	160	2
4	163	3
4	166	4
4	169	1
4	172	2
4	175	3
4	178	4
4	181	1
4	184	2
4	187	3
4	190	4
4	193	1
4	196	2
4	199	3
4	202	4
4	205	1
4	208	2
4	211	3
4	214	4
4	217	1
4	220	2
4	223	3
4	226	4
4	229	1
4	232	2
4	235	3
4	238	4
4	241	1
4	244	2
4	247	3
4	250	4
4	253	1
4	256	2
4	259	3
4	262	4
4	265	1
4	268	2
4	271	3
4	274	4
4	277	1
4	280	2
4	283	3
4	286	4
4	289	1
4	292	2
4	295	3
4	298	4
4	301	1
4	304	2
4	307	3
4	310	4
4	313	1
4	316	2
4	319	3
4	322	4
4	325	1
4	328	2
4	331	3
4	334	4
4	337	1
4	340	2
4	343	3
4	346	4
4	349	1
4	352	2
4	355	3
4	358	4
4	361	1
4	364	2
4	367	3
4	370	4
4	373	1
4	376	2
4	379	3
4	382	4
5	2	1
5	5	2
5	8	3
5	11	4
5	14	1
5	17	2
5	20	3
5	23	4
5	26	1
5	29	2
5	32	3
5	35	4
5	38	1
5	41	2
5	44	3
5	47	4
5	50	1
5	53	2
5	56	3
5	59	4
5	62	1
5	65	2
5	68	3
5	71	4
5	74	1
5	77	2
5	80	3
5	83	4
5	86	1
5	89	2
5	92	3
5	95	4
5	98	1
5	101	2
5	104	3
5	107	4
5	110	1
5	113	2
5	116	3
5	119	4
5	122	1
5	125	2
5	128	3
5	131	4
5	134	1
5	137	2
5	140	3
5	143	4
5	146	1
5	149	2
5	152	3
5	155	4
5	158	1
5	161	2
5	164	3
5	167	4
5	170	1
5	173	2
5	176	3
5	179	4
5	182	1
5	185	2
5	188	3
5	191	4
5	194	1
5	197	2
5	200	3
5	203	4
5	206	1
5	209	2
5	212	3
5	215	4
5	218	1
5	221	2
5	224	3
5	227	4
5	230	1
5	233	2
5	236	3
5	239	4
5	242	1
5	245	2
5	248	3
5	251	4
5	254	1
5	257	2
5	260	3
5	263	4
5	266	1
5	269	2
5	272	3
5	275	4
5	278	1
5	281	2
5	284	3
5	287	4
5	290	1
5	293	2
5	296	3
5	299	4
5	302	1
5	305	2
5	308	3
5	311	4
5	314	1
5	317	2
5	320	3
5	323	4
5	326	1
5	329	2
5	332	3
5	335	4
5	338	1
5	341	2
5	344	3
5	347	4
5	350	1
5	353	2
5	356	3
5	359	4
5	362	1
5	365	2
5	368	3
5	371	4
5	374	1
5	377	2
5	380	3
5	383	4
6	2	1
6	5	2
6	8	3
6	11	4
6	14	1
6	17	2
6	20	3
6	23	4
6	26	1
6	29	2
6	32	3
6	35	4
6	38	1
6	41	2
6	44	3
6	47	4
6	50	1
6	53	2
6	56	3
6	59	4
6	62	1
6	65	2
6	68	3
6	71	4
6	74	1
6	77	2
6	80	3
6	83	4
6	86	1
6	89	2
6	92	3
6	95	4
6	98	1
6	101	2
6	104	3
6	107	4
6	110	1
6	113	2
6	116	3
6	119	4
6	122	1
6	125	2
6	128	3
6	131	4
6	134	1
6	137	2
6	140	3
6	143	4
6	146	1
6	149	2
6	152	3
6	155	4
6	158	1
6	161	2
6	164	3
6	167	4
6	170	1
6	173	2
6	176	3
6	179	4
6	182	1
6	185	2
6	188	3
6	191	4
6	194	1
6	197	2
6	200	3
6	203	4
6	206	1
6	209	2
6	212	3
6	215	4
6	218	1
6	221	2
6	224	3
6	227	4
6	230	1
6	233	2
6	236	3
6	239	4
6	242	1
6	245	2
6	248	3
6	251	4
6	254	1
6	257	2
6	260	3
6	263	4
6	266	1
6	269	2
6	272	3
6	275	4
6	278	1
6	281	2
6	284	3
6	287	4
6	290	1
6	293	2
6	296	3
6	299	4
6	302	1
6	305	2
6	308	3
6	311	4
6	314	1
6	317	2
6	320	3
6	323	4
6	326	1
6	329	2
6	332	3
6	335	4
6	338	1
6	341	2
6	344	3
6	347	4
6	350	1
6	353	2
6	356	3
6	359	4
6	362	1
6	365	2
6	368	3
6	371	4
6	374	1
6	377	2
6	380	3
6	383	4
7	384	1
7	385	2
7	386	3
7	387	4
7	388	1
7	389	2
7	390	3
7	391	4
7	392	1
7	393	2
7	394	3
7	395	4
7	396	1
7	397	2
7	398	3
7	399	4
7	400	1
7	401	2
7	402	3
7	403	4
7	404	1
7	405	2
7	406	3
7	407	4
7	408	1
7	409	2
7	410	3
7	411	4
7	412	1
7	413	2
7	414	3
7	415	4
7	416	1
7	417	2
7	418	3
7	419	4
7	420	1
7	421	2
7	422	3
7	423	4
7	424	1
7	425	2
7	426	3
7	427	4
7	428	1
7	429	2
7	430	3
7	431	4
7	432	1
7	433	2
7	434	3
7	435	4
7	436	1
7	437	2
7	438	3
7	439	4
7	440	1
7	441	2
7	442	3
7	443	4
7	444	1
7	445	2
7	446	3
7	447	4
7	448	1
7	449	2
7	450	3
7	451	4
7	452	1
7	453	2
7	454	3
7	455	4
7	456	1
7	457	2
7	458	3
7	459	4
7	460	1
7	461	2
7	462	3
7	463	4
7	464	1
7	465	2
7	466	3
7	467	4
7	468	1
7	469	2
7	470	3
7	471	4
7	472	1
7	473	2
7	474	3
7	475	4
7	476	1
7	477	2
7	478	3
7	479	4
7	480	1
7	481	2
7	482	3
7	483	4
7	484	1
7	485	2
7	486	3
7	487	4
7	488	1
7	489	2
7	490	3
7	491	4
7	492	1
7	493	2
7	494	3
7	495	4
7	496	1
7	497	2
7	498	3
7	499	4
7	500	1
7	501	2
7	502	3
7	503	4
7	504	1
7	505	2
7	506	3
7	507	4
7	508	1
7	509	2
7	510	3
7	511	4
8	384	1
8	385	2
8	386	3
8	387	4
8	388	1
8	389	2
8	390	3
8	391	4
8	392	1
8	393	2
8	394	3
8	395	4
8	396	1
8	397	2
8	398	3
8	399	4
8	400	1
8	401	2
8	402	3
8	403	4
8	404	1
8	405	2
8	406	3
8	407	4
8	408	1
8	409	2
8	410	3
8	411	4
8	412	1
8	413	2
8	414	3
8	415	4
8	416	1
8	417	2
8	418	3
8	419	4
8	420	1
8	421	2
8	422	3
8	423	4
8	424	1
8	425	2
8	426	3
8	427	4
8	428	1
8	429	2
8	430	3
8	431	4
8	432	1
8	433	2
8	434	3
8	435	4
8	436	1
8	437	2
8	438	3
8	439	4
8	440	1
8	441	2
8	442	3
8	443	4
8	444	1
8	445	2
8	446	3
8	447	4
8	448	1
8	449	2
8	450	3
8	451	4
8	452	1
8	453	2
8	454	3
8	455	4
8	456	1
8	457	2
8	458	3
8	459	4
8	460	1
8	461	2
8	462	3
8	463	4
8	464	1
8	465	2
8	466	3
8	467	4
8	468	1
8	469	2
8	470	3
8	471	4
8	472	1
8	473	2
8	474	3
8	475	4
8	476	1
8	477	2
8	478	3
8	479	4
8	480	1
8	481	2
8	482	3
8	483	4
8	484	1
8	485	2
8	486	3
8	487	4
8	488	1
8	489	2
8	490	3
8	491	4
8	492	1
8	493	2
8	494	3
8	495	4
8	496	1
8	497	2
8	498	3
8	499	4
8	500	1
8	501	2
8	502	3
8	503	4
8	504	1
8	505	2
8	506	3
8	507	4
8	508	1
8	509	2
8	510	3
8	511	4
alter table t14 algorithm=inplace, reorganize partition;
select node_id, fragment_num, block_instance from ndbinfo.memory_per_fragment
where fq_name = 'test/def/t14' order by node_id, fragment_num, block_instance;
node_id	fragment_num	block_instance
1	0	1
1	3	2
1	6	3
1	9	4
1	12	1
1	15	2
1	18	3
1	21	4
2	0	1
2	3	2
2	6	3
2	9	4
2	12	1
2	15	2
2	18	3
2	21	4
3	1	1
3	4	2
3	7	3
3	10	4
3	13	1
3	16	2
3	19	3
3	22	4
4	1	1
4	4	2
4	7	3
4	10	4
4	13	1
4	16	2
4	19	3
4	22	4
5	2	1
5	5	2
5	8	3
5	11	4
5	14	1
5	17	2
5	20	3
5	23	4
6	2	1
6	5	2
6	8	3
6	11	4
6	14	1
6	17	2
6	20	3
6	23	4
7	24	1
7	25	2
7	26	3
7	27	4
7	28	1
7	29	2
7	30	3
7	31	4
8	24	1
8	25	2
8	26	3
8	27	4
8	28	1
8	29	2
8	30	3
8	31	4
select count(*) into @cnt_t9_1
from information_schema.partitions
where table_schema = 'test' and table_name = 't9';
select count(*) into @cnt_t10_1
from information_schema.partitions
where table_schema = 'test' and table_name = 't10';
select count(*) into @cnt_t11_1
from information_schema.partitions
where table_schema = 'test' and table_name = 't11';
select count(*) into @cnt_t12_1
from information_schema.partitions
where table_schema = 'test' and table_name = 't12';
select count(*) into @cnt_t13_1
from information_schema.partitions
where table_schema = 'test' and table_name = 't13';
select count(*) into @cnt_t14_1
from information_schema.partitions
where table_schema = 'test' and table_name = 't14';
select @cnt_t9_1 = 2 * @cnt_t14_1;
@cnt_t9_1 = 2 * @cnt_t14_1
1
select @cnt_t10_1 = 4 * @cnt_t14_1;
@cnt_t10_1 = 4 * @cnt_t14_1
1
select @cnt_t11_1 = 6 * @cnt_t14_1;
@cnt_t11_1 = 6 * @cnt_t14_1
1
select @cnt_t12_1 = 8 * @cnt_t14_1;
@cnt_t12_1 = 8 * @cnt_t14_1
1
select @cnt_t13_1 = 16 * @cnt_t14_1;
@cnt_t13_1 = 16 * @cnt_t14_1
1
select @cnt_t9_1 > @cnt_t9_0;
@cnt_t9_1 > @cnt_t9_0
1
select @cnt_t10_1 > @cnt_t10_0;
@cnt_t10_1 > @cnt_t10_0
1
select @cnt_t11_1 > @cnt_t11_0;
@cnt_t11_1 > @cnt_t11_0
1
select @cnt_t12_1 > @cnt_t12_0;
@cnt_t12_1 > @cnt_t12_0
1
select @cnt_t13_1 > @cnt_t13_0;
@cnt_t13_1 > @cnt_t13_0
1
drop table t9,t10,t11,t12,t13,t14;
